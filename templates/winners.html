<!DOCTYPE html>
<html lang="es">

{% include 'header.html' %}

<link rel="stylesheet" href="{{ url_for('static', filename='styles/winners.css') }}">

<body>
  <div class="content-wrapper">
    <section class="wrapper bg-light wrapper-border">
      <div class="container pt-5 pb-13">

        <div class="row justify-content-center">
          <div class="col-lg-8 text-center">
            <h2 class="display-4 mb-3">SalÃ³n de la Fama</h2>
            <p class="lead text-muted mb-6">
              Los sobrevivientes que desafiaron al CrepyGato.
            </p>
          </div>
        </div>

        <div class="row justify-content-center">
          <div class="col-xl-10">
            
            <div class="winners-card"> 
              <div class="table-responsive">
                <table class="custom-table"> 
                  <thead>
                    <tr>
                      <th scope="col">Nombre</th>
                      <th scope="col">Email</th>
                      <th scope="col">Frase</th>
                      <th scope="col" class="text-center">Intentos</th>
                      <th scope="col" class="text-end">Fecha</th>
                      <th scope="col" class="text-center">AcciÃ³n</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for w in winners %}
                    <tr>
                      <td class="winner-name">
                        {{ w.name }}
                      </td>
                      <td class="winner-email">
                        {{ w.email }}
                      </td>
                      <td class="winner-phrase">
                        "{{ w.phrase }}"
                      </td>
                      <td class="text-center">
                        <span class="attempts-badge">{{ w.intentos }}</span>
                      </td>
                      <td class="text-end winner-date">
                        {{ w.creado }}
                      </td>
                      <td class="text-center">
                        <form action="{{ url_for('delete_winner_route', id=w.id) }}" method="POST" onsubmit="return confirm('Â¿Seguro que quieres borrar este registro de la existencia?');">
                          <button type="submit" class="btn-delete-icon" title="Eliminar registro">
                            X
                          </button>
                        </form>
                      </td>
                    </tr>
                    {% else %}
                    <tr>
                      <td colspan="6">
                        <div class="empty-state">
                          <div style="font-size: 4rem; margin-bottom: 1rem;">ðŸ˜¿</div>
                          <h4 class="mb-2">El CrepyGato ha ganado...</h4>
                          <p class="text-muted">Nadie ha sobrevivido aÃºn para contar la historia.</p>
                          <a href="/" class="btn btn-primary rounded-pill mt-4">Intentar Sobrevivir</a>
                        </div>
                      </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>

          </div>
        </div>

      </div>
    </section>
  </div>

  {% include 'footer.html' %}
</body>
</html>